\titre{Un peu de théorie des ensembles}{Théorie des ensembles naïve et ZFC}
\subsection{Une théorie sur des bases frêles}
\subsubsection{Manipuler des ensenbles}
Qu'est-ce qu'un ensemble ? Tout, et rien à la fois. C'est un objet formel sur lequel on se donne uniquement une chose : la relation d'appartenance, $\in$.
Comment alors en pratique construire et utiliser des ensembles ? On peut penser qu'un ensemble est simplement défini par la donnée d'une propriété, éventuellement en langage naturel : $x\in A \iff$ Quelque chose est vrai de $x$. On verra plus tard que cette approche connaît de graves problèmes qui motiveront une axiomatisation plus rigoureuse de la théorie des ensembles. Mais pour l'instant, elle suffit à explorer quelques notions de base et à introduire du vocabulaire.
\begin{defini}
	Soient $A$ et $B$ deux ensembles. On appelle union de $A$ et $B$ l'ensemble $A \cup B=\{x|x\in A \lor x \in B\}$, et intersection de $A$ et $B$ l'ensemble $A\cap B=\{x|x\in A \land x\in B\}$. 
\end{defini}
\begin{defini}
	Soient $A$ et $B$ deux ensembles. On dit que $A$ est inclus dans $B$, ce qu'on note $A\subset B$, quand $\forall x \in A, x\in B$.
\end{defini}
\begin{defini}
	Soit $A\subset B$. On appelle complémentaire de $A$ dans $B$ l'ensemble $B\backslash A = \{x\in B | \lnot x\in A\}$
\end{defini}
Un poil plus compliqué : définir le produit cartésien $A\times B$. Pour ce faire, il faut trouver une façon purement ensembliste de définir un couple ordonné (sachant qu'un ensemble n'est justement pas ordonné). Une des solutions possibles:
\begin{defini}[Couples de Kuratowski]
	On note couple $(x,y)$ l'ensemble $\{x, \{x,y\}\}$.
\end{defini}
Cette définition permet de préserver l'ordre de la paire : $(x,y)\neq (y,x)$.
\begin{defini}
	Le produit cartésien de deux ensembles $A$ et $B$, noté $A\times B$, est l'ensemble des couples $(x,y)$ avec $x\in A$ et $y\in B$.
\end{defini}

On peut maintenant définir de façon purement ensembliste une relation binaire. 
\begin{defini}[Relation binaire]
	Soit E un ensemble. On appelle relation binaire $\mathcal{R}$ sur $(E, F)$ (ou si $E=F$, tout simplement sur $E$) un sous ensemble de $E\times F$. On dit que le couple $(x,y)$ de $E\times F$ vérifie la relation $\mathcal{R}$, ce qu'on note $x\mathcal{R}y$, quand $(x,y)$ appartient à cet ensemble $\mathcal{R}$.
\end{defini}
	
Intuitivement, une fonction de $E$ dans $F$ est un objet qui à tout $x$ de $E$ associe un unique $y$ de $F$. On formalise ceci à l'aide d'une relation binaire ayant une certaine propriété.

\begin{defini}
Soit $\phi$ une relation binaire sur $(E,F)$. $f$ est une application de $E$ dans $F$ quand $\forall(x,y,z)x\phi y \land x\phi z \implies y=z$. On notera à l'avenir $\phi(x)=y$. L'unicité de l'image est essentielle pour que cette notation est un sens : si  $\phi(x)=y$ et  $\phi(x)=z$, alors $y=z$.
\end{defini}

On définit encore diverses propriétés sur ces relations. 

	\begin{defini}[Premières définitions]
	Soit $\mathcal{R}$ une relation binaire de $E$. On dit que :
	\begin{itemize}
		\item $\mathcal{R}$ est réflexive si $\forall x\in E,$ $x\mathcal{R}x$.
		\item $\mathcal{R}$ est symétrique si $\forall (x,y)\in E^2,$ $x\mathcal{R}y\implies y\mathcal{R}x$.
		\item $\mathcal{R}$ est antisymétrique si $\forall (x,y)\in E^2,$ ($x\mathcal{R}y$ et $y\mathcal{R}x$) $\implies x=y$
		\item $\mathcal{R}$ est transitive si $\forall (x,y,z)\in E^3,$ ($x\mathcal{R}y$ et $y\mathcal{R}z$) $\implies x\mathcal{R}z$.
	\end{itemize}
\end{defini}
	\begin{defini}[Relation d'équivalence]
	On dit qu'une relation binaire $\mathcal{R}$ sur E est une relation d'équivalence si elle est réflexive, symétrique et transitive. On la note en général $\sim$.
    \end{defini}
	\begin{defini}[Relation d'ordre]
	On dit qu'une relation binaire $\mathcal{R}$ sur E est une relation d'ordre si elle est réflexive, antisymétrique et transitive. On note en général $\leq$ plutôt que $\mathcal{R}$.
    \end{defini}

\subsubsection{Familles et applications}

On revient maintenant aux applications.
\begin{defini}
	Soit $f: E \to F$ une application.
	\begin{itemize}
		\item $f$ est injective (ou est une injection) quand $\forall (x,y) \in E^2, f(x)=f(y) \implies x=y$.
		\item $f$ est surjective (ou est une surjection) quand $\forall x \in F, \exists y \in E, f(y)=x$.
		\item $f$ est bijective (ou est une bijection) quand elle est injective et surjective.
	\end{itemize}
\end{defini}

\begin{prop} \label{recolle}
	Soient $A, B, A', B'$ tels que $A\cap B = \varnothing$ et $A'\cap B' = \varnothing$. Soient $f : A \to A'$ et $g : B \to B'$ deux injections. La fonction $h : A \cup B \to A' \cup B'$ telle que $h_{/A}=f$ et $h_{/B}=g$ est injective.
	\tcblower
	Soient $x$ et $y$ tels que $h(x)=h(y)$. Supposons $h(x)=h(y)\in A'$. Alors $f(x)=f(y)$ d'où $x=y$. Un argument similaire tient pour $h(x)=h(y)\in B'$.
\end{prop}

\begin{defini}
	On dit que deux ensembles sont équipotents si il existe une bijection de l'un dans l'autre.
\end{defini}

Cette notion d'équipotence est la "bonne" notion pour définir le cardinal (la "taille") d'un ensemble, comme on le verra plus tard.  

\begin{theoreme}[Théorème de Cantor-Bernstein]
	Soient $A$ et $B$ deux ensembles. Si il existe une injection de $A$ dans $B$ et une injection de $B$ dans $A$, alors $A$ et $B$ sont équipotents.
	\tcblower
	Soient  $f$ et $g$ ces deux injections. On pose $B'= \{g(x)|x\in B\} \subset A$. $g$ est une bijection de $B$ vers $B'$. Construisons une bijection $h$ de $A$ vers $B'$. 

	On pose :
	$$\begin{cases}
		A_0 = A\backslash B' \\
		A_{n+1}=g\circ f(A_n)
	\end{cases}$$

	On définit :
	$$ h : A \to B$$
	$$a \mapsto \begin{cases}g \circ f(a) \text{ si } a \in \bigcup_{i\geq 0}A_i \\ a \text{ sinon}\end{cases}$$

	On a bien $\bigcup_{i\geq 0}A_i \cap A\backslash \bigcup_{i\geq 0}A_i=\varnothing$ et $\bigcup_{i\geq 1}A_i \cap A\backslash \bigcup_{i\geq 0}A_i = \varnothing$. De plus $g\circ f$ et la fonction identité sont injectives. D'où d'après \hyperref[recolle]{la propriété montrée plus haut}, $h$ est injective.

	Enfin $h(A)=B'$ donc $h$ est bien la bijection recherchée. Une bijection de $A$ vers $B$ est donc $g^{-1} \circ h$, et la preuve est achevée.
\end{theoreme}

\begin{theoreme}[Théorème de Cantor]
	Soit $E$ un ensemble. $E$ et $\mathcal{P}(E)$ ne sont pas équipotents.
\end{theoreme}

\subsubsection{Relation d'ordre et d'équivalence}

\subsection{Axiomatisation de Zermelo-Frankel (ZFC)}
\subsubsection{Motivation : un inventaire de paradoxes}
On a précédemment considéré qu'un ensemble pouvait être défini par la donnée de n'importe quelle propriété en langage naturel. Voyons pourquoi cette position est intenable.

\begin{boite}{Paradoxe de Beatty}
	Soit $E$ l'ensemble des mots pouvant être définis en moins de 17 mots en français. On considère "le premier mot par ordre alphabétique ne pouvant pas être défini en moins de 17 mots français" : on vient de le définir en 17 mots, donc il peut bien être défini. La seule issue est de décréter que $E$ ne peut pas exister. 
\end{boite}

Ce paradoxe rend apparent la nécessité de s'en tenir au langage formel, tel que défini par \hyperref[lang]{le chapitre 1}. Mais ce n'est pas la seule limitation sur les ensembles pouvant exister.

On suppose maintenant qu'on peut définir un ensemble par la donnée d'une propriété en langage formel. Apparaît alors un autre paradoxe.

\begin{boite}{Paradoxe de Russel}
	Soit $A=\{x|x\not\in x\}$ l'ensemble des ensembles n'appartenant pas à eux mêmes. Est-ce que $A\in A$ ?

	Si $A\in A$, alors $A\not \in A$. Inversement, si $A \not\in A$, alors $A\in A$. Il en ressort comme préceddement qu'un tel ensemble n'existe nécessairement pas. 
\end{boite}



\subsubsection{Zoom sur l'axiome du choix}

